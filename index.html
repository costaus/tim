<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Revendedor TIM Ultrafibra e Planos Móveis PJ</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" href="https://www.tim.com.br/favicon.ico" type="image/x-icon">

    <script>
        // Configuração customizada do Tailwind
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'tim-blue': '#003366',
                        'tim-red': '#e41e26',
                        'accent-blue': '#00a8e0',
                    },
                    fontFamily: {
                        'sans': ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    
    <style>
        /* Animações e Estilos de Suporte */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up { animation: fadeInUp 0.7s ease-out forwards; }
        .reveal-on-scroll { opacity: 0; visibility: hidden; transition: opacity 0.7s ease-out, transform 0.7s ease-out; }

        /* Estilo da Animação de Fundo Metálico (Splash) */
        @keyframes metallic-splash {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .splash-bg {
            background: linear-gradient(135deg, #448aff, #ffab40, #ff5252, #69f0ae, #ff4081, #d500f9);
            background-size: 1000% 1000%;
        }
        .splash-active {
            animation: metallic-splash 15s ease infinite;
        }

        /* Estilo do Toggle Deezer */
        .deezer-toggle-bg-inactive { background-color: #e5e7eb; } /* gray-200 */
        .deezer-toggle-bg-active { background-color: #1DB954; } /* Spotify/Deezer Green */
        .deezer-toggle-handle-inactive { transform: translateX(0); }
        .deezer-toggle-handle-active { transform: translateX(1.5rem); }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 font-sans">

    <!-- CABEÇALHO -->
    <header id="header" class="bg-white/90 backdrop-blur-md shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-6">
            <div class="flex justify-between items-center h-20">
                <a href="#"><img src="https://iili.io/FTKiFAG.png" alt="Logo TIM" class="h-12" onerror="this.onerror=null; this.src='https://placehold.co/150x50/003366/ffffff?text=TIM';"></a>
                <nav class="hidden md:flex items-center space-x-6">
                    <a href="#fibra" class="text-gray-600 hover:text-tim-blue transition duration-300 font-semibold">Fibra</a>
                    <a href="#moveis" class="text-gray-600 hover:text-tim-blue transition duration-300 font-semibold">Móvel PJ</a>
                    <a href="#contato" class="text-gray-600 hover:text-tim-blue transition duration-300 font-semibold">Contato</a>
                </nav>
                <div class="hidden md:block">
                    <a href="https://api.whatsapp.com/send?phone=5535984510438&text=Olá!%20Vi%20o%20site%20e%20gostaria%20de%20saber%20mais%20sobre%20os%20planos." target="_blank" class="bg-tim-red text-white px-6 py-3 rounded-full font-bold hover:bg-red-700 transition duration-300 shadow-md hover:shadow-lg transform hover:scale-105">Contratar Online</a>
                </div>
                <div class="md:hidden">
                    <button id="menu-btn" class="text-tim-blue focus:outline-none"><svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg></button>
                </div>
            </div>
        </div>
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-200">
            <a href="#fibra" class="block py-3 px-6 text-gray-700 hover:bg-gray-100 hover:text-tim-blue">Fibra</a>
            <a href="#moveis" class="block py-3 px-6 text-gray-700 hover:bg-gray-100 hover:text-tim-blue">Móvel PJ</a>
            <a href="#contato" class="block py-3 px-6 text-gray-700 hover:bg-gray-100 hover:text-tim-blue">Contato</a>
            <div class="p-4"><a href="https://api.whatsapp.com/send?phone=5535984510438&text=Olá!%20Vi%20o%20site%20e%20gostaria%20de%20saber%20mais%20sobre%20os%20planos." target="_blank" class="block w-full text-center bg-tim-red text-white px-6 py-3 rounded-full font-bold hover:bg-red-700 transition duration-300">Contratar Online</a></div>
        </div>
    </header>

    <!-- Corpo Principal do Site -->
    <main>

        <!-- BLOCO 1: SEÇÃO HERO -->
        <section class="bg-gradient-to-br from-tim-blue to-blue-900 text-white">
            <div class="container mx-auto px-6 py-24 md:py-32 flex flex-col items-center text-center">
                <div class="w-full max-w-4xl animate-fade-in-up">
                    <h1 class="text-4xl md:text-5xl lg:text-6xl font-black leading-tight mb-4">Soluções Completas de Conectividade</h1>
                    <p class="text-lg md:text-xl max-w-3xl mx-auto mb-8 text-blue-200">A melhor internet Fibra para sua casa e os melhores planos Móveis para sua empresa. Tudo em um só lugar.</p>
                    <a href="#fibra" class="bg-white text-tim-blue px-8 py-4 rounded-full font-bold text-lg hover:bg-gray-200 transition duration-300 shadow-xl hover:shadow-2xl transform hover:scale-105 inline-block">Ver Planos</a>
                </div>
            </div>
        </section>

        <!-- BLOCO 2: SEÇÃO DO PLANO FIBRA -->
        <section id="fibra" class="py-20 bg-gray-100">
            <div class="container mx-auto px-6">
                <div class="max-w-lg mx-auto">
                    <div class="text-center mb-12 reveal-on-scroll">
                        <h2 class="text-4xl md:text-5xl font-extrabold text-tim-blue">Internet Fibra Óptica</h2>
                        <p class="text-gray-600 mt-3 text-lg">A velocidade e estabilidade que sua casa merece.</p>
                    </div>
                    <div class="bg-white rounded-2xl p-8 shadow-2xl border-2 border-tim-blue reveal-on-scroll">
                        <h3 class="text-3xl font-bold text-center text-gray-800">TIM Ultrafibra 1 GIGA</h3>
                        <div class="my-6 flex justify-center items-baseline whitespace-nowrap"><span class="text-6xl font-black text-tim-blue">R$ 119</span><span class="text-2xl font-bold text-gray-500">,99/mês</span></div>
                        <ul class="space-y-4 text-gray-700 mb-8 text-lg">
                            <li class="flex items-center"><svg class="w-6 h-6 text-green-500 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>Sinal excelente</li>
                            <li class="flex items-center"><svg class="w-6 h-6 text-green-500 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>Conexão rápida</li>
                            <li class="flex items-center"><svg class="w-6 h-6 text-green-500 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>Sem travamentos</li>
                        </ul>
                        <a href="https://api.whatsapp.com/send?phone=5535984510438&text=Olá!%20Vi%20o%20site%20e%20quero%20contratar%20o%20plano%20TIM%20Ultrafibra%20de%201%20GIGA%20por%20R$119,99." target="_blank" class="w-full mt-auto bg-tim-red text-white text-center px-6 py-4 rounded-lg font-bold hover:bg-red-700 transition duration-300 text-xl">Contratar Fibra</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- BLOCO 3: SEÇÃO PLANOS MÓVEIS PJ -->
        <section id="moveis" class="py-20 bg-gray-100">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16 reveal-on-scroll">
                    <h2 class="text-4xl md:text-5xl font-extrabold text-tim-blue">Planos Móveis PJ</h2>
                    <p class="text-gray-600 mt-3 text-lg max-w-2xl mx-auto">A melhor conexão para sua empresa continuar crescendo.</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <!-- Plano 6GB -->
                    <div class="bg-white rounded-2xl p-6 text-center shadow-lg flex flex-col reveal-on-scroll border">
                        <h3 class="text-2xl font-bold text-gray-800">6 GIGA</h3>
                        <div class="my-4"><span class="text-4xl font-extrabold text-tim-blue">R$ 39<span class="text-2xl">,90</span></span><span class="text-gray-500">/mês</span></div>
                        <div class="flex-grow space-y-4">
                            <p class="font-semibold text-tim-blue">+ Apps Ilimitados</p>
                            <div class="flex justify-center items-center space-x-3 flex-wrap gap-y-2">
                                <img src="https://iili.io/FuZc1AG.png" class="h-7 w-7 object-cover rounded-md" alt="WhatsApp">
                                <img src="https://iili.io/FuZAf6u.jpg" class="h-7 w-7 object-cover rounded-md" alt="Instagram">
                                <img src="https://iili.io/FuZlAOb.png" class="h-7 w-7 object-cover rounded-md" alt="X">
                                <img src="https://i.imgur.com/7aRkRjA.png" class="h-7 w-7 object-cover rounded-md" alt="Facebook">
                                <img src="https://i.imgur.com/u4R3pks.png" class="h-7 w-7 object-cover rounded-md" alt="Messenger">
                                <img src="https://iili.io/FuZ15PV.jpg" class="h-7 w-7 object-cover rounded-md" alt="Waze">
                            </div>
                        </div>
                        <a href="https://api.whatsapp.com/send?phone=5535984510438&text=Olá!%20Gostaria%20de%20contratar%20o%20plano%20móvel%20PJ%20de%206GB%20por%20R$39,90." target="_blank" class="w-full mt-6 bg-tim-red text-white px-6 py-3 rounded-lg font-bold hover:bg-red-700 transition">Contratar</a>
                    </div>

                    <!-- Card Base para Planos com Deezer -->
                    <div class="plan-card bg-white rounded-2xl p-6 text-center shadow-lg flex flex-col reveal-on-scroll border relative overflow-hidden transition-all duration-700" data-plan-id="30gb">
                        <div class="absolute inset-0 splash-bg opacity-0 transition-opacity duration-700" aria-hidden="true"></div>
                        <div class="relative z-10 flex flex-col h-full">
                            <h3 class="plan-title text-2xl font-bold text-gray-800">30 GIGA</h3>
                            <div class="my-4"><span class="price-element text-4xl font-extrabold text-tim-blue"></span><span class="text-gray-500">/mês</span></div>
                            <div class="flex-grow space-y-4">
                                <p class="font-semibold text-tim-blue">+ Apps Ilimitados</p>
                                <div class="flex justify-center items-center space-x-3 flex-wrap gap-y-2">
                                    <img src="https://iili.io/FuZc1AG.png" class="h-7 w-7 object-cover rounded-md" alt="WhatsApp"> <img src="https://iili.io/FuZAf6u.jpg" class="h-7 w-7 object-cover rounded-md" alt="Instagram"> <img src="https://iili.io/FuZlAOb.png" class="h-7 w-7 object-cover rounded-md" alt="X"> <img src="https://i.imgur.com/7aRkRjA.png" class="h-7 w-7 object-cover rounded-md" alt="Facebook"> <img src="https://i.imgur.com/u4R3pks.png" class="h-7 w-7 object-cover rounded-md" alt="Messenger"> <img src="https://iili.io/FuZ15PV.jpg" class="h-7 w-7 object-cover rounded-md" alt="Waze">
                                </div>
                                <button class="deezer-toggle w-full flex items-center justify-center p-2 rounded-lg" aria-label="Ativar Deezer Premium"><div class="w-14 h-8 deezer-toggle-bg-inactive rounded-full flex items-center p-1 transition-colors duration-300"><div class="bg-white w-6 h-6 rounded-full shadow-md deezer-toggle-handle-inactive transition-transform duration-300 flex items-center justify-center"><img src="https://iili.io/FuZnKdB.png" class="h-4" alt="Deezer Logo"></div></div><span class="ml-3 font-semibold text-sm text-gray-700">Deezer Premium</span></button>
                            </div>
                            <a href="#" target="_blank" class="cta-button w-full mt-6 bg-tim-red text-white px-6 py-3 rounded-lg font-bold hover:bg-red-700 transition">Contratar</a>
                        </div>
                    </div>
                    
                    <div class="plan-card bg-white rounded-2xl p-6 text-center shadow-lg flex flex-col reveal-on-scroll border relative overflow-hidden transition-all duration-700" data-plan-id="50gb">
                        <div class="absolute inset-0 splash-bg opacity-0 transition-opacity duration-700" aria-hidden="true"></div>
                        <div class="relative z-10 flex flex-col h-full">
                            <h3 class="plan-title text-2xl font-bold text-gray-800">50 GIGA</h3>
                            <div class="my-4"><span class="price-element text-4xl font-extrabold text-tim-blue"></span><span class="text-gray-500">/mês</span></div>
                            <div class="flex-grow space-y-4">
                                <p class="font-semibold text-tim-blue">+ Apps Ilimitados</p>
                                <div class="flex justify-center items-center space-x-3 flex-wrap gap-y-2">
                                    <img src="https://iili.io/FuZc1AG.png" class="h-7 w-7 object-cover rounded-md" alt="WhatsApp"> <img src="https://iili.io/FuZAf6u.jpg" class="h-7 w-7 object-cover rounded-md" alt="Instagram"> <img src="https://iili.io/FuZlAOb.png" class="h-7 w-7 object-cover rounded-md" alt="X"> <img src="https://i.imgur.com/7aRkRjA.png" class="h-7 w-7 object-cover rounded-md" alt="Facebook"> <img src="https://i.imgur.com/u4R3pks.png" class="h-7 w-7 object-cover rounded-md" alt="Messenger"> <img src="https://iili.io/FuZ15PV.jpg" class="h-7 w-7 object-cover rounded-md" alt="Waze">
                                </div>
                                <button class="deezer-toggle w-full flex items-center justify-center p-2 rounded-lg" aria-label="Ativar Deezer Premium"><div class="w-14 h-8 deezer-toggle-bg-inactive rounded-full flex items-center p-1 transition-colors duration-300"><div class="bg-white w-6 h-6 rounded-full shadow-md deezer-toggle-handle-inactive transition-transform duration-300 flex items-center justify-center"><img src="https://iili.io/FuZnKdB.png" class="h-4" alt="Deezer Logo"></div></div><span class="ml-3 font-semibold text-sm text-gray-700">Deezer Premium</span></button>
                            </div>
                            <a href="#" target="_blank" class="cta-button w-full mt-6 bg-tim-red text-white px-6 py-3 rounded-lg font-bold hover:bg-red-700 transition">Contratar</a>
                        </div>
                    </div>

                    <div class="plan-card bg-white rounded-2xl p-6 text-center shadow-lg flex flex-col reveal-on-scroll border relative overflow-hidden transition-all duration-700" data-plan-id="100gb">
                        <div class="absolute inset-0 splash-bg opacity-0 transition-opacity duration-700" aria-hidden="true"></div>
                        <div class="relative z-10 flex flex-col h-full">
                            <h3 class="plan-title text-2xl font-bold text-gray-800">100 GIGA</h3>
                            <div class="my-4"><span class="price-element text-4xl font-extrabold text-tim-blue"></span><span class="text-gray-500">/mês</span></div>
                            <div class="flex-grow space-y-4">
                                <p class="font-semibold text-tim-blue">+ Apps Ilimitados</p>
                                <div class="flex justify-center items-center space-x-3 flex-wrap gap-y-2">
                                    <img src="https://iili.io/FuZc1AG.png" class="h-7 w-7 object-cover rounded-md" alt="WhatsApp"> <img src="https://iili.io/FuZAf6u.jpg" class="h-7 w-7 object-cover rounded-md" alt="Instagram"> <img src="https://iili.io/FuZlAOb.png" class="h-7 w-7 object-cover rounded-md" alt="X"> <img src="https://i.imgur.com/7aRkRjA.png" class="h-7 w-7 object-cover rounded-md" alt="Facebook"> <img src="https://i.imgur.com/u4R3pks.png" class="h-7 w-7 object-cover rounded-md" alt="Messenger"> <img src="https://iili.io/FuZ15PV.jpg" class="h-7 w-7 object-cover rounded-md" alt="Waze">
                                </div>
                                <button class="deezer-toggle w-full flex items-center justify-center p-2 rounded-lg" aria-label="Ativar Deezer Premium"><div class="w-14 h-8 deezer-toggle-bg-inactive rounded-full flex items-center p-1 transition-colors duration-300"><div class="bg-white w-6 h-6 rounded-full shadow-md deezer-toggle-handle-inactive transition-transform duration-300 flex items-center justify-center"><img src="https://iili.io/FuZnKdB.png" class="h-4" alt="Deezer Logo"></div></div><span class="ml-3 font-semibold text-sm text-gray-700">Deezer Premium</span></button>
                            </div>
                            <a href="#" target="_blank" class="cta-button w-full mt-6 bg-tim-red text-white px-6 py-3 rounded-lg font-bold hover:bg-red-700 transition">Contratar</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- BLOCO 4: SEÇÃO DE CONTATO (CTA) -->
        <section id="contato" class="bg-gray-100 py-20">
             <div class="container mx-auto px-6">
                <div class="bg-tim-blue rounded-2xl p-10 md:p-16 text-center text-white reveal-on-scroll shadow-2xl">
                    <h2 class="text-3xl md:text-4xl font-bold">Ainda com dúvidas?</h2>
                    <p class="text-blue-200 mt-4 mb-8 max-w-2xl mx-auto text-lg">Fale agora com um consultor pelo WhatsApp. Vamos verificar a disponibilidade e tirar todas as suas dúvidas na hora!</p>
                    <a href="https://api.whatsapp.com/send?phone=5535984510438&text=Olá!%20Vi%20o%20site%20e%20gostaria%20de%20saber%20mais%20sobre%20os%20planos." target="_blank" class="bg-green-500 text-white px-8 py-4 rounded-full font-bold text-lg hover:bg-green-600 transition duration-300 shadow-xl hover:shadow-2xl transform hover:scale-105 inline-flex items-center">
                        <svg class="w-7 h-7 mr-3" fill="currentColor" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="m12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm0 2.25c5.385 0 9.75 4.365 9.75 9.75s-4.365 9.75-9.75 9.75-9.75-4.365-9.75-9.75 4.365-9.75 9.75-9.75zm-3.123 4.477c-.199-.011-.422-.011-.621.088-.201.1-.333.223-.464.347-.132.124-.279.271-.403.433-.124.162-.259.347-.296.409-.037.062-.074.123-.074.199s.025.162.074.249c.049.086.123.185.123.185l.012.012c.025.025.062.062.111.123.284.346.592.691.949 1.011.358.321.74.617 1.147.888.407.271.826.506 1.283.678.456.173.888.296 1.295.345.407.05.777.012 1.098-.111.32-.123.58-.345.727-.617.148-.271.222-.567.222-.888s-.074-.58-.197-.814c-.123-.234-.308-.432-.308-.432l-.025-.025c-.025-.025-.062-.037-.111-.062-.049-.024-.111-.049-.185-.074-.382-.123-.765-.247-1.147-.37-.382-.123-.765-.246-1.147-.369-.21-.074-.407-.123-.58-.148-.173-.025-.358-.025-.506.037-.148.062-.284.148-.395.271-.111.124-.197.272-.259.444-.061.173-.098.346-.098.518s.024.333.074.481c.049.148.135.296.259.432.123.136.271.259.444.37.173.111.345.197.518.259.222.074.456.123.703.148.247.024.493.012.728-.025.234-.037.469-.098.691-.185.222-.086.432-.197.63-.333.197-.136.37-.296.518-.481.148-.185.259-.395.333-.617.074-.222.111-.456.111-.703s-.049-.518-.148-.752-.234-.444-.407-.617c-.173-.173-.382-.321-.617-.444-.235-.123-.494-.222-.765-.284-.271-.062-.555-.086-.826-.086-.407 0-.814.062-1.196.185-.383.123-.74.296-1.049.518-.308.222-.58.481-.79.765l-.086.111c-.049.074-.123.148-.222.222-.099.074-.197.123-.271.148-.074.025-.136.025-.197.012z"/>
                    </svg>Falar com Consultor
                    </a>
                </div>
            </div>
        </section>
    </main>
    
    <!-- RODAPÉ -->
    <footer class="bg-gray-900 text-white">
        <div class="container mx-auto px-6 py-10">
            <div class="text-center">
                 <a href="#"><img src="https://iili.io/FTKiFAG.png" alt="Logo TIM" class="h-12 mx-auto mb-6" onerror="this.onerror=null; this.src='https://placehold.co/150x50/ffffff/1f2937?text=TIM';"></a>
                <p class="text-gray-400">&copy; <span id="current-year"></span> Revendedor Autorizado TIM.</p>
                <p class="text-xs text-gray-500 mt-3 max-w-md mx-auto">Este é o site de um revendedor autorizado TIM. As promoções e planos podem variar da oferta do site oficial TIM S.A.</p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const menuBtn = document.getElementById('menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            if (menuBtn) menuBtn.addEventListener('click', () => { mobileMenu.classList.toggle('hidden'); });
            document.querySelectorAll('#mobile-menu a').forEach(link => link.addEventListener('click', () => mobileMenu.classList.add('hidden')));
            
            const yearSpan = document.getElementById('current-year');
            if(yearSpan) yearSpan.textContent = new Date().getFullYear();

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate-fade-in-up');
                        entry.target.style.opacity = '1';
                        entry.target.style.visibility = 'visible';
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });
            document.querySelectorAll('.reveal-on-scroll').forEach(el => observer.observe(el));

            const planDetails = {
                '30gb': { basePrice: 52.99, deezerPrice: 57.99, isDeezerActive: false },
                '50gb': { basePrice: 69.99, deezerPrice: 75.99, isDeezerActive: false },
                '100gb': { basePrice: 99.99, deezerPrice: 105.00, isDeezerActive: false }
            };

            const wppBaseUrl = "https://api.whatsapp.com/send?phone=5535984510438&text=";

            function updatePlanView(planId) {
                const planData = planDetails[planId];
                const card = document.querySelector(`.plan-card[data-plan-id="${planId}"]`);
                if (!card) return;

                const priceElement = card.querySelector('.price-element');
                const ctaButton = card.querySelector('.cta-button');
                const splashBg = card.querySelector('.splash-bg');
                const titleElement = card.querySelector('.plan-title');
                const toggleHandle = card.querySelector('.deezer-toggle-handle-inactive');
                const toggleBg = card.querySelector('.deezer-toggle-bg-inactive');

                const currentPrice = planData.isDeezerActive ? planData.deezerPrice : planData.basePrice;
                const [integer, decimal] = currentPrice.toFixed(2).split('.');
                priceElement.innerHTML = `R$ ${integer}<span class="text-2xl">,${decimal}</span>`;
                
                let wppMessage;
                const planName = titleElement.textContent;
                
                if (planData.isDeezerActive) {
                    wppMessage = `Olá! Tenho interesse no plano ${planName} com Deezer Premium por R$${currentPrice.toFixed(2).replace('.', ',')}. Poderia me dar mais detalhes?`;
                    splashBg.classList.add('splash-active');
                    splashBg.style.opacity = '1';
                    titleElement.classList.add('text-white');
                    priceElement.classList.add('text-white');
                    priceElement.nextElementSibling.classList.add('text-gray-200');
                    toggleHandle.classList.add('deezer-toggle-handle-active');
                    toggleBg.classList.add('deezer-toggle-bg-active');
                } else {
                    wppMessage = `Olá! Tenho interesse no plano ${planName} por R$${currentPrice.toFixed(2).replace('.', ',')}. Poderia me dar mais detalhes?`;
                    splashBg.classList.remove('splash-active');
                    splashBg.style.opacity = '0';
                    titleElement.classList.remove('text-white');
                    priceElement.classList.remove('text-white');
                    priceElement.nextElementSibling.classList.remove('text-gray-200');
                    toggleHandle.classList.remove('deezer-toggle-handle-active');
                    toggleBg.classList.remove('deezer-toggle-bg-active');
                }
                
                ctaButton.href = wppBaseUrl + encodeURIComponent(wppMessage);
            }

            document.querySelectorAll('.plan-card').forEach(card => {
                const planId = card.dataset.planId;
                if (planDetails[planId]) {
                    // Initialize the view for each card
                    updatePlanView(planId);

                    const deezerToggle = card.querySelector('.deezer-toggle');
                    if(deezerToggle) {
                        deezerToggle.addEventListener('click', (e) => {
                            e.preventDefault(); // Prevent any default button behavior
                            planDetails[planId].isDeezerActive = !planDetails[planId].isDeezerActive;
                            updatePlanView(planId);
                        });
                    }
                }
            });
        });
    </script>
</body>
</html>
